#include "ma_config.h"

#include "dwm_ma.h"

static const ma_layout MA_CONFIG_MONO_layout = {
        0.f,
        1,
        {{0, 0}},
        {{0, 0, 0}},
};

static const ma_layout MA_CONFIG_STEREO_layout = {
        DWM_MA_SIZE_JUNCTION_M,
        2,
        {{1.5707963267948966f, 0}, {-1.5707963267948966f, 0}},
        {{-1, 0, 0}, {1, 0, 0}},
};

static const ma_layout MA_CONFIG_6_POINTS_SQRT_1_layout = {
        DWM_MA_SIZE_JUNCTION_M,
        6,
        {
                {-3.141592653589793f, 0.f},
                {-0.f, -1.5707963267948966f},
                {1.5707963267948966f, 0.f},
                {-1.5707963267948966f, 0.f},
                {-0.f, 1.5707963267948966f},
                {-0.f, 0.f},
        },
        {
                {0, 0, -1},
                {0, -1, 0},
                {-1, 0, 0},
                {1, 0, 0},
                {0, 1, 0},
                {0, 0, 1},
        },
};

static const ma_layout MA_CONFIG_8_POINTS_SQRT_3_layout = {
        DWM_MA_SIZE_JUNCTION_M * 1.73205080757f, // sqrt(3)
        8,
        {
                {2.356194490192345f, -0.6154797086703873f},
                {-2.356194490192345f, -0.6154797086703873f},
                {2.356194490192345f, 0.6154797086703873f},
                {-2.356194490192345f, 0.6154797086703873f},
                {0.7853981633974483f, -0.6154797086703873f},
                {-0.7853981633974483f, -0.6154797086703873f},
                {0.7853981633974483f, 0.6154797086703873f},
                {-0.7853981633974483f, 0.6154797086703873f},
        },
        {
                {-1, -1, -1},
                {1, -1, -1},
                {-1, 1, -1},
                {1, 1, -1},
                {-1, -1, 1},
                {1, -1, 1},
                {-1, 1, 1},
                {1, 1, 1},
        },
};

static const ma_layout MA_CONFIG_12_POINTS_SQRT_2_layout = {
        DWM_MA_SIZE_JUNCTION_M * 1.41421356237f, // sqrt(2)
        12,
        {
                {-3.141592653589793f, -0.7853981633974483f},
                {2.356194490192345f, 0.f},
                {-2.356194490192345f, 0.f},
                {-3.141592653589793f, 0.7853981633974483f},
                {1.5707963267948966f, -0.7853981633974483f},
                {-1.5707963267948966f, -0.7853981633974483f},
                {1.5707963267948966f, 0.7853981633974483f},
                {-1.5707963267948966f, 0.7853981633974483f},
                {-0.f, -0.7853981633974483f},
                {0.7853981633974483f, 0.f},
                {-0.7853981633974483f, 0.f},
                {-0.f, 0.7853981633974483f},
        },
        {
                {0, -1, -1},
                {-1, 0, -1},
                {1, 0, -1},
                {0, 1, -1},
                {-1, -1, 0},
                {1, -1, 0},
                {-1, 1, 0},
                {1, 1, 0},
                {0, -1, 1},
                {-1, 0, 1},
                {1, 0, 1},
                {0, 1, 1},
        },
};

static const ma_layout MA_CONFIG_24_POINTS_SQRT_5_layout = {
        DWM_MA_SIZE_JUNCTION_M * 2.2360679775f, // sqrt(5)
        24,
        {
                {-3.141592653589793f, -0.4636476090008061f},
                {2.677945044588987f, 0.f},
                {-2.677945044588987f, 0.f},
                {-3.141592653589793f, 0.4636476090008061f},
                {-3.141592653589793f, -1.1071487177940904f},
                {2.0344439357957027f, 0.f},
                {-2.0344439357957027f, 0.f},
                {-3.141592653589793f, 1.1071487177940904f},
                {1.5707963267948966f, -1.1071487177940904f},
                {-1.5707963267948966f, -1.1071487177940904f},
                {1.5707963267948966f, -0.4636476090008061f},
                {-1.5707963267948966f, -0.4636476090008061f},
                {1.5707963267948966f, 0.4636476090008061f},
                {-1.5707963267948966f, 0.4636476090008061f},
                {1.5707963267948966f, 1.1071487177940904f},
                {-1.5707963267948966f, 1.1071487177940904f},
                {-0.f, -1.1071487177940904f},
                {1.1071487177940904f, 0.f},
                {-1.1071487177940904f, 0.f},
                {-0.f, 1.1071487177940904f},
                {-0.f, -0.4636476090008061f},
                {0.4636476090008061f, 0.f},
                {-0.4636476090008061f, 0.f},
                {-0.f, 0.4636476090008061f},
        },
        {
                {0, -1, -2}, {-1, 0, -2}, {1, 0, -2},  {0, 1, -2}, {0, -2, -1}, {-2, 0, -1}, {2, 0, -1}, {0, 2, -1},
                {-1, -2, 0}, {1, -2, 0},  {-2, -1, 0}, {2, -1, 0}, {-2, 1, 0},  {2, 1, 0},   {-1, 2, 0}, {1, 2, 0},
                {0, -2, 1},  {-2, 0, 1},  {2, 0, 1},   {0, 2, 1},  {0, -1, 2},  {-1, 0, 2},  {1, 0, 2},  {0, 1, 2},
        },
};

static const ma_layout MA_CONFIG_24_POINTS_SQRT_6_layout = {
        DWM_MA_SIZE_JUNCTION_M * 2.44948974278f, // sqrt(6)
        24,
        {
                {2.677945044588987f, -0.4205343352839651f},  {-2.677945044588987f, -0.4205343352839651f},
                {2.677945044588987f, 0.4205343352839651f},   {-2.677945044588987f, 0.4205343352839651f},
                {2.356194490192345f, -0.9553166181245093f},  {-2.356194490192345f, -0.9553166181245093f},
                {2.0344439357957027f, -0.4205343352839651f}, {-2.0344439357957027f, -0.4205343352839651f},
                {2.0344439357957027f, 0.4205343352839651f},  {-2.0344439357957027f, 0.4205343352839651f},
                {2.356194490192345f, 0.9553166181245093f},   {-2.356194490192345f, 0.9553166181245093f},
                {0.7853981633974483f, -0.9553166181245093f}, {-0.7853981633974483f, -0.9553166181245093f},
                {1.1071487177940904f, -0.4205343352839651f}, {-1.1071487177940904f, -0.4205343352839651f},
                {1.1071487177940904f, 0.4205343352839651f},  {-1.1071487177940904f, 0.4205343352839651f},
                {0.7853981633974483f, 0.9553166181245093f},  {-0.7853981633974483f, 0.9553166181245093f},
                {0.4636476090008061f, -0.4205343352839651f}, {-0.4636476090008061f, -0.4205343352839651f},
                {0.4636476090008061f, 0.4205343352839651f},  {-0.4636476090008061f, 0.4205343352839651f},
        },
        {
                {-1, -1, -2}, {1, -1, -2}, {-1, 1, -2}, {1, 1, -2}, {-1, -2, -1}, {1, -2, -1},
                {-2, -1, -1}, {2, -1, -1}, {-2, 1, -1}, {2, 1, -1}, {-1, 2, -1},  {1, 2, -1},
                {-1, -2, 1},  {1, -2, 1},  {-2, -1, 1}, {2, -1, 1}, {-2, 1, 1},   {2, 1, 1},
                {-1, 2, 1},   {1, 2, 1},   {-1, -1, 2}, {1, -1, 2}, {-1, 1, 2},   {1, 1, 2},
        },
};

static const ma_layout MA_CONFIG_24_POINTS_SQRT_10_layout = {
        DWM_MA_SIZE_JUNCTION_M * 3.16227766017f, // sqrt(10)
        24,
        {
                {-3.141592653589793f, -0.3217505543966422f},
                {2.819842099193151f, 0.f},
                {-2.819842099193151f, 0.f},
                {-3.141592653589793f, 0.3217505543966422f},
                {-3.141592653589793f, -1.2490457723982544f},
                {1.892546881191539f, 0.f},
                {-1.892546881191539f, 0.f},
                {-3.141592653589793f, 1.2490457723982544f},
                {1.5707963267948966f, -1.2490457723982544f},
                {-1.5707963267948966f, -1.2490457723982544f},
                {1.5707963267948966f, -0.3217505543966422f},
                {-1.5707963267948966f, -0.3217505543966422f},
                {1.5707963267948966f, 0.3217505543966422f},
                {-1.5707963267948966f, 0.3217505543966422f},
                {1.5707963267948966f, 1.2490457723982544f},
                {-1.5707963267948966f, 1.2490457723982544f},
                {-0.f, -1.2490457723982544f},
                {1.2490457723982544f, 0.f},
                {-1.2490457723982544f, 0.f},
                {-0.f, 1.2490457723982544f},
                {-0.f, -0.3217505543966422f},
                {0.3217505543966422f, 0.f},
                {-0.3217505543966422f, 0.f},
                {-0.f, 0.3217505543966422f},
        },
        {
                {0, -1, -3}, {-1, 0, -3}, {1, 0, -3},  {0, 1, -3}, {0, -3, -1}, {-3, 0, -1}, {3, 0, -1}, {0, 3, -1},
                {-1, -3, 0}, {1, -3, 0},  {-3, -1, 0}, {3, -1, 0}, {-3, 1, 0},  {3, 1, 0},   {-1, 3, 0}, {1, 3, 0},
                {0, -3, 1},  {-3, 0, 1},  {3, 0, 1},   {0, 3, 1},  {0, -1, 3},  {-1, 0, 3},  {1, 0, 3},  {0, 1, 3},
        },
};

static const ma_layout MA_CONFIG_24_POINTS_SQRT_11_layout = {
        DWM_MA_SIZE_JUNCTION_M * 3.31662479036f, // sqrt(11)
        24,
        {
                {2.819842099193151f, -0.3062773691696694f},  {-2.819842099193151f, -0.3062773691696694f},
                {2.819842099193151f, 0.3062773691696694f},   {-2.819842099193151f, 0.3062773691696694f},
                {2.356194490192345f, -1.1302856637901981f},  {-2.356194490192345f, -1.1302856637901981f},
                {1.892546881191539f, -0.3062773691696694f},  {-1.892546881191539f, -0.3062773691696694f},
                {1.892546881191539f, 0.3062773691696694f},   {-1.892546881191539f, 0.3062773691696694f},
                {2.356194490192345f, 1.1302856637901981f},   {-2.356194490192345f, 1.1302856637901981f},
                {0.7853981633974483f, -1.1302856637901981f}, {-0.7853981633974483f, -1.1302856637901981f},
                {1.2490457723982544f, -0.3062773691696694f}, {-1.2490457723982544f, -0.3062773691696694f},
                {1.2490457723982544f, 0.3062773691696694f},  {-1.2490457723982544f, 0.3062773691696694f},
                {0.7853981633974483f, 1.1302856637901981f},  {-0.7853981633974483f, 1.1302856637901981f},
                {0.3217505543966422f, -0.3062773691696694f}, {-0.3217505543966422f, -0.3062773691696694f},
                {0.3217505543966422f, 0.3062773691696694f},  {-0.3217505543966422f, 0.3062773691696694f},
        },
        {
                {-1, -1, -3}, {1, -1, -3}, {-1, 1, -3}, {1, 1, -3}, {-1, -3, -1}, {1, -3, -1},
                {-3, -1, -1}, {3, -1, -1}, {-3, 1, -1}, {3, 1, -1}, {-1, 3, -1},  {1, 3, -1},
                {-1, -3, 1},  {1, -3, 1},  {-3, -1, 1}, {3, -1, 1}, {-3, 1, 1},   {3, 1, 1},
                {-1, 3, 1},   {1, 3, 1},   {-1, -1, 3}, {1, -1, 3}, {-1, 1, 3},   {1, 1, 3},
        },
};

static const ma_layout MA_CONFIG_24_POINTS_SQRT_13_layout = {
        DWM_MA_SIZE_JUNCTION_M * 3.60555127546f, // sqrt(13)
        24,
        {
                {-3.141592653589793f, -0.5880026035475675f},
                {2.5535900500422257f, 0.f},
                {-2.5535900500422257f, 0.f},
                {-3.141592653589793f, 0.5880026035475675f},
                {-3.141592653589793f, -0.982793723247329f},
                {2.158798930342464f, 0.f},
                {-2.158798930342464f, 0.f},
                {-3.141592653589793f, 0.982793723247329f},
                {1.5707963267948966f, -0.982793723247329f},
                {-1.5707963267948966f, -0.982793723247329f},
                {1.5707963267948966f, -0.5880026035475675f},
                {-1.5707963267948966f, -0.5880026035475675f},
                {1.5707963267948966f, 0.5880026035475675f},
                {-1.5707963267948966f, 0.5880026035475675f},
                {1.5707963267948966f, 0.982793723247329f},
                {-1.5707963267948966f, 0.982793723247329f},
                {-0.f, -0.982793723247329f},
                {0.982793723247329f, 0.f},
                {-0.982793723247329f, 0.f},
                {-0.f, 0.982793723247329f},
                {-0.f, -0.5880026035475675f},
                {0.5880026035475675f, 0.f},
                {-0.5880026035475675f, 0.f},
                {-0.f, 0.5880026035475675f},
        },
        {
                {0, -2, -3}, {-2, 0, -3}, {2, 0, -3},  {0, 2, -3}, {0, -3, -2}, {-3, 0, -2}, {3, 0, -2}, {0, 3, -2},
                {-2, -3, 0}, {2, -3, 0},  {-3, -2, 0}, {3, -2, 0}, {-3, 2, 0},  {3, 2, 0},   {-2, 3, 0}, {2, 3, 0},
                {0, -3, 2},  {-3, 0, 2},  {3, 0, 2},   {0, 3, 2},  {0, -2, 3},  {-2, 0, 3},  {2, 0, 3},  {0, 2, 3},
        },
};

static const ma_layout MA_CONFIG_30_POINTS_SQRT_9_layout = {
        DWM_MA_SIZE_JUNCTION_M * 3,
        30,
        {
                {-3.141592653589793f, 0.f},
                {2.677945044588987f, -0.7297276562269663f},
                {-2.677945044588987f, -0.7297276562269663f},
                {2.356194490192345f, -0.3398369094541219f},
                {-2.356194490192345f, -0.3398369094541219f},
                {2.356194490192345f, 0.3398369094541219f},
                {-2.356194490192345f, 0.3398369094541219f},
                {2.677945044588987f, 0.7297276562269663f},
                {-2.677945044588987f, 0.7297276562269663f},
                {2.0344439357957027f, -0.7297276562269663f},
                {-2.0344439357957027f, -0.7297276562269663f},
                {2.0344439357957027f, 0.7297276562269663f},
                {-2.0344439357957027f, 0.7297276562269663f},
                {-0.f, -1.5707963267948966f},
                {1.5707963267948966f, 0.f},
                {-1.5707963267948966f, 0.f},
                {-0.f, 1.5707963267948966f},
                {1.1071487177940904f, -0.7297276562269663f},
                {-1.1071487177940904f, -0.7297276562269663f},
                {1.1071487177940904f, 0.7297276562269663f},
                {-1.1071487177940904f, 0.7297276562269663f},
                {0.4636476090008061f, -0.7297276562269663f},
                {-0.4636476090008061f, -0.7297276562269663f},
                {0.7853981633974483f, -0.3398369094541219f},
                {-0.7853981633974483f, -0.3398369094541219f},
                {0.7853981633974483f, 0.3398369094541219f},
                {-0.7853981633974483f, 0.3398369094541219f},
                {0.4636476090008061f, 0.7297276562269663f},
                {-0.4636476090008061f, 0.7297276562269663f},
                {-0.f, 0.f},
        },
        {
                {0, 0, -3}, {-1, -2, -2}, {1, -2, -2}, {-2, -1, -2}, {2, -1, -2}, {-2, 1, -2}, {2, 1, -2}, {-1, 2, -2},
                {1, 2, -2}, {-2, -2, -1}, {2, -2, -1}, {-2, 2, -1},  {2, 2, -1},  {0, -3, 0},  {-3, 0, 0}, {3, 0, 0},
                {0, 3, 0},  {-2, -2, 1},  {2, -2, 1},  {-2, 2, 1},   {2, 2, 1},   {-1, -2, 2}, {1, -2, 2}, {-2, -1, 2},
                {2, -1, 2}, {-2, 1, 2},   {2, 1, 2},   {-1, 2, 2},   {1, 2, 2},   {0, 0, 3},
        },
};

const ma_layout *ma_config_layout(const MA_CONFIG ma_config) {
    switch (ma_config) {
        case MA_CONFIG_6_POINTS_SQRT_1:
            return &MA_CONFIG_6_POINTS_SQRT_1_layout;
        case MA_CONFIG_8_POINTS_SQRT_3:
            return &MA_CONFIG_8_POINTS_SQRT_3_layout;
        case MA_CONFIG_12_POINTS_SQRT_2:
            return &MA_CONFIG_12_POINTS_SQRT_2_layout;
        case MA_CONFIG_24_POINTS_SQRT_5:
            return &MA_CONFIG_24_POINTS_SQRT_5_layout;
        case MA_CONFIG_24_POINTS_SQRT_6:
            return &MA_CONFIG_24_POINTS_SQRT_6_layout;
        case MA_CONFIG_24_POINTS_SQRT_10:
            return &MA_CONFIG_24_POINTS_SQRT_10_layout;
        case MA_CONFIG_24_POINTS_SQRT_11:
            return &MA_CONFIG_24_POINTS_SQRT_11_layout;
        case MA_CONFIG_24_POINTS_SQRT_13:
            return &MA_CONFIG_24_POINTS_SQRT_13_layout;
        case MA_CONFIG_30_POINTS_SQRT_9:
            return &MA_CONFIG_30_POINTS_SQRT_9_layout;
        case MA_CONFIG_STEREO:
            return &MA_CONFIG_STEREO_layout;
        case MA_CONFIG_MONO:
        default:
            return &MA_CONFIG_MONO_layout;
    }
}
